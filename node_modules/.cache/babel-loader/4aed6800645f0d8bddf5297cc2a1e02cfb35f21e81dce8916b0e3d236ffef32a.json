{"ast":null,"code":"var _jsxFileName = \"/home/elvis/phase3/my-app-frontend/src/components/Login.js\",\n  _s = $RefreshSig$();\nimport { useNavigate } from 'react-router-dom';\nimport React, { useState } from 'react';\nimport \"../components/login.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login(_ref) {\n  _s();\n  let {\n    setLoggedIn\n  } = _ref;\n  const initFormState = {\n    username: '',\n    password: ''\n  };\n  const [formState, setFormState] = useState(initFormState);\n  const navigate = useNavigate();\n  const formChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormState(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    await fetch('https://manger.onrender.com/users/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(formState)\n    }).then(resp => resp.json()).then(user => {\n      console.log(user);\n      if (user.error) {\n        alert(user.error);\n      } else {\n        setLoggedIn(user);\n        setFormState(initFormState);\n        localStorage.setItem('user', user);\n        console.log(user);\n        navigate('/home');\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"login-box\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Welcome to Task Manager\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n        children: \"Login to create your tasks \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"formWrapper\",\n      onSubmit: handleSubmit,\n      autoComplete: \"off\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"user-box\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          type: \"text\",\n          name: \"username\",\n          placeholder: \"Username\",\n          value: formState.username,\n          onChange: formChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"user-box\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"Password\",\n          value: formState.password,\n          onChange: formChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"button-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"formBtn\",\n          type: \"submit\",\n          children: \"LOGIN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"register\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"signup\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Don't have an account?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 43\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 74\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              id: \"signupLink\",\n              href: \"/users/new\",\n              children: \"Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"fHkGDaStj1igTtrfWHole8TE1m4=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useNavigate","React","useState","Login","setLoggedIn","initFormState","username","password","formState","setFormState","navigate","formChange","e","name","value","target","prevState","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","then","resp","json","user","console","log","error","alert","localStorage","setItem"],"sources":["/home/elvis/phase3/my-app-frontend/src/components/Login.js"],"sourcesContent":["import { useNavigate } from 'react-router-dom';\nimport React, { useState } from 'react';\nimport \"../components/login.css\";\n\nfunction Login({ setLoggedIn }) {\n    const initFormState = {\n        username: '',\n        password: ''\n    }\n\n    const [formState, setFormState] = useState(initFormState);\n\n\n    const navigate = useNavigate()\n\n   \n\n\n\n    const formChange = (e) => {\n        const {name, value } = e.target;\n        setFormState((prevState) => ({...prevState, [name]: value}))\n    }\n\n    const handleSubmit = async(e) => {\n        e.preventDefault();\n        await fetch ('https://manger.onrender.com/users/login', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(formState)\n        })\n        .then ((resp) => resp.json())\n        .then ((user) => {\n            console.log(user)\n            if(user.error) {\n                alert(user.error)\n            } else {\n                setLoggedIn(user)\n                setFormState(initFormState)\n                localStorage.setItem('user', user)\n                console.log(user)\n                navigate('/home')\n            }\n        })\n    }\n\n    return (\n        <div class='login-box'>\n            <h2><b>Login</b></h2>\n            <br></br>\n            <h3><b>Welcome to Task Manager</b></h3>\n            <br></br>\n            <h4> <i>Login to create your tasks </i></h4>\n            <br></br>\n            <form className = 'formWrapper' onSubmit = {handleSubmit} autoComplete=\"off\">\n                <div class = \"user-box\">\n                <input className = 'input' type = 'text' name = 'username' placeholder = 'Username' value = {formState.username} onChange = {formChange} required />\n                </div>\n                <br></br>\n                <div class=\"user-box\">\n                <input className = 'input' type = 'password' name = 'password' placeholder = 'Password' value = {formState.password} onChange = {formChange} required />\n                </div>\n                <br></br>\n                <div class=\"button-form\">\n                <button id = 'formBtn' type = 'submit'>LOGIN</button>\n                <div class='register'>\n                  <p className = 'signup'><h5>Don't have an account?</h5><br />\n                  <a id = 'signupLink' href = '/users/new' >Register</a></p>\n                 </div>\n                 </div>\n            </form>\n            \n        </div>\n    )\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}